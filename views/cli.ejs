<%- layout('layout') %>

<body style="background-color: #111 !important; color: #eeeefc !important; padding: 2vh;">
    <div class="cli w-[100%] h-[10vh] flex flex-row">
        <div class="commandwrapper">
            <p class="text-violet font-semibold text-xl"><%= user.fname.toLowerCase() %><%= user.lname.toLowerCase() %>#damning: </p>
            <input type="text" class="bg-transparent text-xl h-fit ml-3.5 outline-none w-[80%]" autofocus>
        </div>
    </div>
</body>

<script>
    const input = document.querySelector('input');
    input.addEventListener('keydown', async (e) => {
        if (e.key === 'Enter') {
            console.log(input.value);
            try {
                const response = await fetch('/cli', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        command: input.value
                    })
                })
                .then(res => res.json())
                .then(data => console.log(data));
                const fakeData = "danger"
                // iske aage karna hai
            }
            catch (err) {
                console.error(err);
            }
        }
    });
</script>